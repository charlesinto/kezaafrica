"use strict";(self.webpackChunkcoming_soon=self.webpackChunkcoming_soon||[]).push([[667],{3667:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var a=n(4942),r=n(1413),o=n(885),i=n(2791),s=n(4569),c=n.n(s),l=n(3150),d=n(6743),u=n(4004),m=n(2982),f=n(9488),h=n(5471),p=n(6828),g=n(4442),b=n(5799),v=n(184),x=function(e){var t=e.form,n=e.setForm,a=e.setInfo,s=e.setLoading,d=e.setSuccess,x=e.conveneNumber,w=e.handleProductChange,y=e.handleMetaChange,j=e.handleReset,N=(0,u.d)().setToast,Z=(0,i.useState)([]),k=(0,o.Z)(Z,2),C=k[0],P=k[1],F=(0,i.useState)(window.innerWidth),S=(0,o.Z)(F,2),I=S[0],q=S[1],B=(0,l.b)().APP_URI,E=C.length>1&&t.product.name?C.find((function(e){return e.name===t.product.name})):null,L=E?t.product.condition&&E.meta.conditions&&E.meta.conditions.find((function(e){return e.price&&e.type===t.product.condition}))?E.meta.conditions.find((function(e){return e.type===t.product.condition})).price?E.meta.conditions.find((function(e){return e.type===t.product.condition})).price:t.product.rom&&E.rates&&E.rates.find((function(e){return e.storage===t.product.rom}))&&E.rates.find((function(e){return e.storage===t.product.rom})).price?E.rates.find((function(e){return e.storage===t.product.rom})).price:E.meta.price.min===E.meta.price.max?E.meta.price.min:(E.meta.price.min+E.meta.price.max)/2:E.meta.price.min===E.meta.price.max?E.meta.price.min:(E.meta.price.min+E.meta.price.max)/2:null;(0,i.useEffect)((function(){return window.addEventListener("resize",(function(){return q(window.innerWidth)})),function(){return window.addEventListener("resize",(function(){return q(window.innerWidth)}))}}),[]);var z=function(){s(!0);var e=.3*L,a=parseFloat(t.meta.months),o=parseFloat((L-e)/a),i=parseFloat((.03*o+o)*a),c=parseFloat(i/a);n((function(t){return(0,r.Z)((0,r.Z)({},t),{},{meta:(0,r.Z)((0,r.Z)({},t.meta),{},{payment:e+4e3,amount:parseFloat(i),dividend:parseFloat(c)}),productPrice:L})})),function(){var e=I<=768;setTimeout((function(){s(!1),e&&window.location.replace("#result")}),3e3)}()};return(0,i.useLayoutEffect)((function(){c().get("".concat(B,"/products/without-images")).then((function(e){e.data.ok&&P(e.data.data)})).catch((function(e){var t=e.message;P([]),a({message:t,status:"error"})})),c().defaults.withCredentials=!0}),[]),(0,v.jsx)("div",{className:"col-lg-6",children:(0,v.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[(0,v.jsxs)("div",{className:"row align-items-center mb-3",children:[(0,v.jsx)("div",{className:"col-lg-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"condition",className:"form-label",children:"What condition would you prefer?"}),(0,v.jsxs)(f.Z,{className:"bg-white shadow",id:"condition",variant:"outlined",defaultValue:"",name:"condition",required:!0,value:t.product.condition,children:[(0,v.jsx)(h.Z,{onClick:function(){w({target:{name:"condition",value:"old"}}),d(20)},value:"old",children:"Pre Owned"}),(0,v.jsx)(h.Z,{onClick:function(){w({target:{name:"condition",value:"new"}}),d(20)},value:"new",children:"Brand New"})]})]})}),(0,v.jsx)("div",{className:"col-lg-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"phone",className:"form-label",children:"What phone would you like?"}),(0,v.jsx)(p.Z,{required:!0,children:(0,v.jsx)(b.ZP,{options:C.length>1?t.product.condition?C.filter((function(e){return 123456!==e.meta.price.min&&123456!==e.meta.price.max&&e.meta.conditions&&e.meta.conditions.find((function(e){return e.type.trim()===t.product.condition.trim()}))})).map((function(e){return e.name})):C.map((function(e){return e.name})):[],value:t.product.name,onChange:function(e,t){n((function(e){return(0,r.Z)((0,r.Z)({},e),{},{product:(0,r.Z)((0,r.Z)({},e.product),{},{name:t})})})),d(40),N({title:"You are required to make a first installment of 30% of the value of the phone",icon:"info",timer:1e4})},getOptionLabel:function(e){return e},renderOption:function(e){return e},renderInput:function(e){return(0,v.jsx)(g.Z,(0,r.Z)((0,r.Z)({},e),{},{variant:"outlined"}))},className:"bg-white shadow"})})]})})]}),(0,v.jsxs)("div",{className:"row align-items-center mb-3",children:[(0,v.jsx)("div",{className:"col-lg-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"down",className:"text-dark form-label",children:"Here's the down Payment"}),(0,v.jsx)(g.Z,{variant:"outlined",id:"down",value:L?x(parseFloat(.3*L)):"",className:"bg-white shadow"})]})}),(0,v.jsx)("div",{className:"col-lg-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"over",className:"form-label",children:"How long do you want to split your monthly payments?"}),(0,v.jsx)(f.Z,{className:"bg-white shadow",variant:"outlined",fullWidth:!0,labelId:"over",name:"months",defaultValue:"",value:t.meta.months,required:!0,children:(0,m.Z)(Array(6).keys()).map((function(e,t){var n=e+1;return(0,v.jsx)(h.Z,{onClick:function(e){var t={target:{name:"months",value:parseFloat(e.target.textContent.split(" ")[0])}};y(t),d(60)},value:n,children:"".concat(n," ").concat(1===n?"month":"months")},t)}))})]})})]}),E&&(0,v.jsxs)("div",{className:"row align-items-center",children:[(0,v.jsx)("div",{className:"col-lg-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"color",className:"form-label",children:"What colour from this brand would you like?"}),(0,v.jsx)(f.Z,{className:"bg-white shadow",variant:"outlined",value:t.product.color,defaultValue:"",id:"color",name:"color",children:E.meta.colors.map((function(e,t){return(0,v.jsx)(h.Z,{onClick:function(e){var t={target:{name:"color",value:e.target.textContent}};w(t),d(80)},value:e,children:e},t)}))})]})}),(0,v.jsx)("div",{className:"col-lg-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"rom",className:"form-label",children:"What is your preferred phone storage"}),(0,v.jsx)(f.Z,{className:"bg-white shadow",variant:"outlined",value:t.product.rom,id:"rom",name:"rom",children:E.storage.rom.map((function(e,t){return(0,v.jsx)(h.Z,{onClick:function(e){var t={target:{name:"rom",value:e.target.textContent}};w(t),d(100),N({title:"Prices of phones vary depending on the storage",icon:"info",timer:1e4}),z()},value:e,children:e},t)}))})]})})]}),(0,v.jsx)("div",{className:"d-flex justify-content-center",children:(0,v.jsx)("button",{onClick:function(){j()},className:"mt-2 btn btn-primary btn-get-started",children:"Reset"})})]})})},w=n(7462),y=n(5987),j=n(8182),N=n(1122),Z=n(8317),k=n(3108),C=n(3364),P=i.forwardRef((function(e,t){var n=e.classes,a=e.className,r=e.color,o=void 0===r?"primary":r,s=e.value,c=e.valueBuffer,l=e.variant,d=void 0===l?"indeterminate":l,u=(0,y.Z)(e,["classes","className","color","value","valueBuffer","variant"]),m=(0,C.Z)(),f={},h={bar1:{},bar2:{}};if("determinate"===d||"buffer"===d)if(void 0!==s){f["aria-valuenow"]=Math.round(s),f["aria-valuemin"]=0,f["aria-valuemax"]=100;var p=s-100;"rtl"===m.direction&&(p=-p),h.bar1.transform="translateX(".concat(p,"%)")}else 0;if("buffer"===d)if(void 0!==c){var g=(c||0)-100;"rtl"===m.direction&&(g=-g),h.bar2.transform="translateX(".concat(g,"%)")}else 0;return i.createElement("div",(0,w.Z)({className:(0,j.Z)(n.root,n["color".concat((0,N.Z)(o))],a,{determinate:n.determinate,indeterminate:n.indeterminate,buffer:n.buffer,query:n.query}[d]),role:"progressbar"},f,{ref:t},u),"buffer"===d?i.createElement("div",{className:(0,j.Z)(n.dashed,n["dashedColor".concat((0,N.Z)(o))])}):null,i.createElement("div",{className:(0,j.Z)(n.bar,n["barColor".concat((0,N.Z)(o))],("indeterminate"===d||"query"===d)&&n.bar1Indeterminate,{determinate:n.bar1Determinate,buffer:n.bar1Buffer}[d]),style:h.bar1}),"determinate"===d?null:i.createElement("div",{className:(0,j.Z)(n.bar,("indeterminate"===d||"query"===d)&&n.bar2Indeterminate,"buffer"===d?[n["color".concat((0,N.Z)(o))],n.bar2Buffer]:n["barColor".concat((0,N.Z)(o))]),style:h.bar2}))})),F=(0,Z.Z)((function(e){var t=function(t){return"light"===e.palette.type?(0,k.$n)(t,.62):(0,k._j)(t,.5)},n=t(e.palette.primary.main),a=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:n},colorSecondary:{backgroundColor:a},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(n," 0%, ").concat(n," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(a," 0%, ").concat(a," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(P),S=n(5720),I=function(e){var t=e.loading,n=e.success,a=e.form,r=e.conveneNumber,o=e.handleSendMail,i=(0,l.b)().reportAction;return(0,v.jsxs)("div",{id:"result",className:"col-lg-6",children:[(0,v.jsx)(F,{variant:"determinate",value:n}),(0,v.jsxs)("div",{style:{background:"var(--keza-tertiary)"},className:"result alert alert-dismissible fade show",role:"alert",children:[(0,v.jsx)("h3",{className:"alert-heading",children:"Your Estimated Monthly Payment"}),(0,v.jsx)("h5",{className:"my-3 fs-3 fw-bold",children:r(parseFloat(t?0:a.meta.dividend?a.meta.dividend:0))}),!t&&a.meta.amount?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("p",{"data-aos":"fade-up",children:(0,v.jsx)("strong",{className:"fw-bold fs-5",children:"You will pay ".concat(r(parseFloat(a.meta.dividend||0))," monthly for ").concat(a.meta.months," months to own a ").concat("old"===a.product.condition?"Pre Owned":"Brand New"," ").concat(a.product.name," \ud83e\udd73")})})}):(0,v.jsx)("p",{}),(0,v.jsx)("div",{className:"mt-3 d-flex justify-content-center",children:(0,v.jsx)("button",{onClick:function(){i("Calculator","Requested for a monthly breakdown"),o()},className:"btn btn-primary btn-get-started btn-lg fs-6",children:"Get Your Phone Now"})})]}),t&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(S.Z,{style:{position:"absolute",bottom:"50%",left:"50%"}}),(0,v.jsx)("div",{style:{opacity:"0.3",height:" 95%",width:"96%",transform:"translateX(2.5%)"},className:"modal-backdrop fade show"})]})]})},q=function(e){var t=e.init,n=(0,u.d)().setModal,s=(0,i.useState)(t),m=(0,o.Z)(s,2),f=m[0],h=m[1],p=(0,i.useState)(!1),g=(0,o.Z)(p,2),b=g[0],w=g[1],y=(0,i.useState)(0),j=(0,o.Z)(y,2),N=j[0],Z=j[1],k=(0,i.useState)(null),C=(0,o.Z)(k,2),P=C[0],F=C[1],S=(0,l.b)().APP_URI,q=Intl.NumberFormat(void 0,{style:"currency",currency:"NGN"}).format;return(0,v.jsx)("section",{className:"calculator",id:"calculator",children:(0,v.jsxs)("div",{className:"container text-center",children:[(0,v.jsx)("h1",{children:"Phone Loan Calculator"}),(0,v.jsx)("p",{className:"fs-4",children:"Let's find out your repayment plan \ud83d\ude80"}),(0,v.jsx)("div",{className:"d-flex justify-content-center",children:P&&(0,v.jsx)(d.bZ,{"data-aos":"fade-up",message:P.message,status:P.status,onClose:function(){return F(null)},isDark:!0})}),(0,v.jsxs)("div",{className:"row align-items-center py-5",children:[(0,v.jsx)(x,{setForm:h,form:f,setLoading:w,setSuccess:Z,setInfo:F,conveneNumber:q,handleProductChange:function(e){var t=e.target,n=t.name,o=t.value;h((function(e){return(0,r.Z)((0,r.Z)({},e),{},{product:(0,r.Z)((0,r.Z)({},e.product),{},(0,a.Z)({},n,o))})}))},handleMetaChange:function(e){var t=e.target,n=t.name,o=t.value;h((function(e){return(0,r.Z)((0,r.Z)({},e),{},{meta:(0,r.Z)((0,r.Z)({},e.meta),{},(0,a.Z)({},n,o))})}))},handleReset:function(){F(null),h(t),w(!1),Z(0)}}),(0,v.jsx)(I,{form:f,success:N,loading:b,setForm:h,conveneNumber:q,handleSendMail:function(){if(P&&F(null),!f.meta.dividend)return F({message:"Please use the Form",status:"error"});n({title:"Great Choice \ud83d\ude09",imageUrl:"assets/images/5621940-removebg.png",boldenText:!0,text:"Now complete the application form to give us more details about yourself.",showCloseButton:!0,confirmButtonText:"Proceed!",confirmAction:function(){c().post("".concat(S,"/reports/create-report"),f,{headers:{"Access-Control-Allow-Credentials":"true"}}).then((function(e){var t=e.data;t.ok&&window.location.replace("/apply?reportId=".concat(t.data.id))})).catch((function(e){var t=e.response,n=e.message;return F({message:t?t.data.message:n,status:"error"})})),c().defaults.withCredentials=!0}})}})]})]})})}}}]);
//# sourceMappingURL=667.451a9197.chunk.js.map